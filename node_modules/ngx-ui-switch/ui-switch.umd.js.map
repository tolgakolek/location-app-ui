{"version":3,"file":"ui-switch.umd.js","sources":["../../src/lib/ui-switch/ui-switch.token.ts","../../src/lib/ui-switch/ui-switch.component.ts","../../src/lib/ui-switch/ui-switch.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const UI_SWITCH_OPTIONS = new InjectionToken('UI_SWITCH_OPTIONS');\n","import {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostListener,\n  forwardRef, Inject, Optional,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { UI_SWITCH_OPTIONS } from './ui-switch.token';\nimport { UiSwitchModuleConfig } from './ui-switch.config';\n\nconst UI_SWITCH_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => UiSwitchComponent),\n  multi: true,\n};\n\n@Component({\n  selector: 'ui-switch',\n  template: `\n    <span class=\"switch\"\n    [class.checked]=\"checked\"\n    [class.disabled]=\"disabled\"\n    [class.switch-large]=\"size === 'large'\"\n    [class.switch-medium]=\"size === 'medium'\"\n    [class.switch-small]=\"size === 'small'\"\n    [style.background-color]=\"getColor()\"\n    [style.border-color]=\"getColor('borderColor')\"\n    >\n    <span class=\"switch-pane\" *ngIf=\"checkedLabel || uncheckedLabel\">\n        <span class=\"switch-label-checked\">{{ this.checkedLabel }}</span>\n        <span class=\"switch-label-unchecked\">{{ this.uncheckedLabel }}</span>\n    </span>\n    <small [style.background]=\"getColor('switchColor')\">\n    <ng-content></ng-content>\n    </small>\n    </span>\n  `,\n  providers: [UI_SWITCH_CONTROL_VALUE_ACCESSOR],\n})\nexport class UiSwitchComponent implements ControlValueAccessor {\n  private _checked: boolean;\n  private _disabled: boolean;\n  private _reverse: boolean;\n\n  @Input() size;\n  @Input() color;\n  @Input() switchOffColor;\n  @Input() switchColor;\n  @Input() defaultBgColor;\n  @Input() defaultBoColor;\n  @Input() checkedLabel;\n  @Input() uncheckedLabel;\n\n  @Input()\n  set checked(v: boolean) {\n    this._checked = v !== false;\n  }\n\n  get checked() {\n    return this._checked;\n  }\n\n  @Input()\n  set disabled(v: boolean) {\n    this._disabled = v !== false;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  @Input()\n  set reverse(v: boolean) {\n    this._reverse = v !== false;\n  }\n\n  get reverse() {\n    return this._reverse;\n  }\n\n  /**\n   * Emits changed value\n   */\n  @Output() change = new EventEmitter<boolean>();\n\n  /**\n   * Emits DOM event\n   */\n  @Output() changeEvent = new EventEmitter<MouseEvent>();\n\n  /**\n   * Emits changed value\n   */\n  @Output() valueChange = new EventEmitter<boolean>();\n\n  constructor(\n    @Inject(UI_SWITCH_OPTIONS) @Optional() config: UiSwitchModuleConfig = {},\n    private cdr: ChangeDetectorRef\n  ) {\n    this.size = config && config.size || 'medium';\n    this.color = config && config.color;\n    this.switchOffColor = config && config.switchOffColor;\n    this.switchColor = config && config.switchColor;\n    this.defaultBgColor = config && config.defaultBgColor;\n    this.defaultBoColor = config && config.defaultBoColor;\n    this.checkedLabel = config && config.checkedLabel;\n    this.uncheckedLabel = config && config.uncheckedLabel;\n  }\n\n  getColor(flag = '') {\n    if (flag === 'borderColor') {\n      return this.defaultBoColor;\n    }\n    if (flag === 'switchColor') {\n      if (this.reverse) {\n        return !this.checked ? this.switchColor : this.switchOffColor || this.switchColor;\n      }\n      return this.checked ? this.switchColor : this.switchOffColor || this.switchColor;\n    }\n    if (this.reverse) {\n      return !this.checked ? this.color : this.defaultBgColor;\n    }\n    return this.checked ? this.color : this.defaultBgColor;\n  }\n\n  @HostListener('click', ['$event'])\n  onToggle(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    this.checked = !this.checked;\n\n    // Component events\n    this.change.emit(this.checked);\n    this.valueChange.emit(this.checked);\n    this.changeEvent.emit(event);\n\n    // value accessor callbacks\n    this.onChangeCallback(this.checked);\n    this.onTouchedCallback(this.checked);\n    this.cdr.markForCheck();\n  }\n\n  writeValue(obj: any): void {\n    if (obj !== this.checked) {\n      this.checked = !!obj;\n    }\n    if (this.cdr) {\n      this.cdr.markForCheck();\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n\n  private onTouchedCallback = (v: any) => {};\n  private onChangeCallback = (v: any) => {};\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { UiSwitchComponent } from './ui-switch.component';\nimport { UI_SWITCH_OPTIONS } from './ui-switch.token';\nimport { UiSwitchModuleConfig } from './ui-switch.config';\n\n@NgModule({\n  declarations: [\n    UiSwitchComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  exports: [\n    FormsModule,\n\n    UiSwitchComponent\n  ]\n})\nexport class UiSwitchModule {\n  static forRoot(config: UiSwitchModuleConfig | null | undefined): ModuleWithProviders {\n    return {\n      ngModule: UiSwitchModule,\n      providers: [\n        {provide: UI_SWITCH_OPTIONS, useValue: config || {}}\n      ]\n    };\n  }\n}\n"],"names":["InjectionToken","NG_VALUE_ACCESSOR","forwardRef","EventEmitter","Component","Inject","Optional","ChangeDetectorRef","Input","Output","HostListener","NgModule","CommonModule","FormsModule"],"mappings":"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"}